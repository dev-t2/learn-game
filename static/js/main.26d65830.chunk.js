(this.webpackJsonp01_react=this.webpackJsonp01_react||[]).push([[0],{37:function(t,e,n){"use strict";n.r(e);var c,o,r=n(0),a=n.n(r),i=n(22),b=n.n(i),u=n(24),s=n(19),j=n(7),f=n(25),O=n(11),d={Space:!1,ArrowLeft:!1,ArrowRight:!1},l=n(13),m=n(20),g=n(6),h=n(4),p=n(1),v=h.a.div((function(t){return{width:377,height:458,position:"fixed",bottom:0,left:t.left,zIndex:2}})),x=Object(g.keyframes)(c||(c=Object(l.a)(["\n  from { background-position-x: 0 }\n  to { background-position-x: -3770px }\n"]))),w=h.a.div((function(t){var e=t.motion,n=t.isFlip;return{height:"100%",backgroundImage:"url(".concat("/learn-game","/image/character/").concat(e,".png)"),transform:n?"rotateY(180deg)":void 0,animation:"".concat(x," 0.5s infinite steps(10)")}})),k=function(t){var e=t.keyboard,n=t.onAttack,c=Object(r.useState)(!1),o=Object(j.a)(c,2),a=o[0],i=o[1],b=Object(r.useState)("idle"),u=Object(j.a)(b,2),s=u[0],f=u[1],O=Object(r.useState)(0),d=Object(j.a)(O,2),l=d[0],g=d[1],h=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=Object(m.setInterval)((function(){e.Space?f("attack"):e.ArrowLeft!==e.ArrowRight&&e.ArrowLeft?(i(!0),f("run"),g((function(t){return t-10}))):e.ArrowLeft!==e.ArrowRight&&e.ArrowRight?(i(!1),f("run"),g((function(t){return t+10}))):f("idle")}),10);return function(){Object(m.clearInterval)(t)}}),[e]),Object(r.useEffect)((function(){"attack"===s&&h.current&&n({left:l+h.current.offsetWidth/2,bottom:h.current.offsetHeight/2})}),[s,n,l]),Object(p.jsx)(v,{left:l,children:Object(p.jsx)(w,{ref:h,motion:s,isFlip:a})})},y=Object(r.memo)(k),A=h.a.img({display:"none"}),S="".concat("/learn-game","/image"),I=["".concat(S,"/character/attack.png"),"".concat(S,"/character/idle.png"),"".concat(S,"/character/run.png"),"".concat(S,"/weapon/weapon.png")],E=function(){return Object(p.jsx)("div",{children:I.map((function(t,e){return Object(p.jsx)(A,{src:t},e)}))})},L=Object(r.memo)(E),R=n(23),z=n.n(R),F=function(){return Object(p.jsx)(g.Global,{styles:Object(g.css)(o||(o=Object(l.a)(["\n        ","\n\n        *, *::after, *::before {\n          box-sizing: border-box;\n          -moz-osx-font-smoothing: grayscale;\n          -webkit-font-smoothing: antialiased;\n          font-smoothing: antialiased;\n        }\n      "])),z.a)})},C=Object(r.memo)(F),J=h.a.div({position:"relative",height:"100vh"}),_=function(t){var e=t.children;return Object(p.jsx)(J,{children:e})},B=Object(r.memo)(_),G=h.a.div((function(t){var e=t.left,n=t.bottom;return{width:160,height:32,backgroundImage:"url(".concat("/learn-game","/image/weapon/weapon.png)"),position:"absolute",left:e,bottom:n,zIndex:1}})),H=function(t){var e=t.left,n=t.bottom;return Object(p.jsx)(G,{left:e,bottom:n})},M=Object(r.memo)(H),W=function(){var t=Object(r.useState)(d),e=Object(j.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)([]),a=Object(j.a)(o,2),i=a[0],b=a[1],l=Object(r.useCallback)((function(t){c((function(e){return Object(s.a)(Object(s.a)({},e),t)}))}),[]);Object(r.useEffect)((function(){var t;t=l,window.addEventListener("keydown",(function(e){var n=e.code;Object.keys(d).includes(n)&&t(Object(O.a)({},n,!0))})),window.addEventListener("keyup",(function(e){var n=e.code;Object.keys(d).includes(n)&&t(Object(O.a)({},n,!1))}))}),[l]);var m=Object(r.useCallback)((function(t){b((function(e){return[].concat(Object(u.a)(e),[t])}))}),[]);return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(C,{}),Object(p.jsx)(L,{}),Object(p.jsxs)(B,{children:[Object(p.jsx)(y,{keyboard:n,onAttack:m}),i.map((function(t){var e=Object(f.a)();return Object(p.jsx)(M,{left:t.left,bottom:t.bottom},e)}))]})]})},Y=Object(r.memo)(W);b.a.render(Object(p.jsx)(a.a.StrictMode,{children:Object(p.jsx)(Y,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.26d65830.chunk.js.map