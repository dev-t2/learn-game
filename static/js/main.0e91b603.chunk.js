(this.webpackJsonp01_react=this.webpackJsonp01_react||[]).push([[0],{37:function(t,e,n){"use strict";n.r(e);var c,o,r=n(0),a=n.n(r),i=n(22),b=n.n(i),u=n(24),s=n(19),f=n(7),j=n(25),O=n(11),d={Space:!1,ArrowLeft:!1,ArrowRight:!1},l=n(13),m=n(20),h=n(5),g=n(6),v=n(1),p=g.a.div((function(t){return{width:377,height:458,position:"fixed",bottom:0,left:t.left,zIndex:2}})),x=Object(h.keyframes)(c||(c=Object(l.a)(["\n  from { background-position-x: 0 }\n  to { background-position-x: -3770px }\n"]))),k=g.a.div((function(t){var e=t.motion,n=t.isFlip;return{height:"100%",backgroundImage:"url(".concat("/learn-game","/image/character/").concat(e,".png)"),transform:n?"rotateY(180deg)":void 0,animation:"".concat(x," 0.5s infinite steps(10)")}})),w=function(t){var e=t.keyboard,n=t.onAttack,c=Object(r.useState)(!1),o=Object(f.a)(c,2),a=o[0],i=o[1],b=Object(r.useState)("idle"),u=Object(f.a)(b,2),s=u[0],j=u[1],O=Object(r.useState)(0),d=Object(f.a)(O,2),l=d[0],h=d[1],g=Object(r.useRef)(null);return Object(r.useEffect)((function(){var t=Object(m.setInterval)((function(){e.Space?j("attack"):e.ArrowLeft!==e.ArrowRight&&e.ArrowLeft?(i(!0),j("run"),h((function(t){return t-10}))):e.ArrowLeft!==e.ArrowRight&&e.ArrowRight?(i(!1),j("run"),h((function(t){return t+10}))):j("idle")}),10);return function(){Object(m.clearInterval)(t)}}),[e]),Object(r.useEffect)((function(){"attack"===s&&g.current&&n({left:l+g.current.offsetWidth/2,bottom:g.current.offsetHeight/2})}),[s,n,l]),Object(v.jsx)(p,{left:l,children:Object(v.jsx)(k,{ref:g,motion:s,isFlip:a})})},y=Object(r.memo)(w),A=n(23),S=n.n(A),I=function(){return Object(v.jsx)(h.Global,{styles:Object(h.css)(o||(o=Object(l.a)(["\n        ","\n\n        *, *::after, *::before {\n          box-sizing: border-box;\n          -moz-osx-font-smoothing: grayscale;\n          -webkit-font-smoothing: antialiased;\n          font-smoothing: antialiased;\n        }\n      "])),S.a)})},E=Object(r.memo)(I),L=g.a.div({position:"relative",height:"100vh"}),R=function(t){var e=t.children;return Object(v.jsx)(L,{children:e})},z=Object(r.memo)(R),F=g.a.div((function(t){var e=t.left,n=t.bottom;return{width:160,height:32,backgroundImage:"url(".concat("/learn-game","/image/weapon/weapon.png)"),position:"absolute",left:e,bottom:n,zIndex:1}})),C=function(t){var e=t.left,n=t.bottom;return Object(v.jsx)(F,{left:e,bottom:n})},J=Object(r.memo)(C),_=function(){var t=Object(r.useState)(d),e=Object(f.a)(t,2),n=e[0],c=e[1],o=Object(r.useState)([]),a=Object(f.a)(o,2),i=a[0],b=a[1],l=Object(r.useCallback)((function(t){c((function(e){return Object(s.a)(Object(s.a)({},e),t)}))}),[]);Object(r.useEffect)((function(){var t;t=l,window.addEventListener("keydown",(function(e){var n=e.code;Object.keys(d).includes(n)&&t(Object(O.a)({},n,!0))})),window.addEventListener("keyup",(function(e){var n=e.code;Object.keys(d).includes(n)&&t(Object(O.a)({},n,!1))}))}),[l]);var m=Object(r.useCallback)((function(t){b((function(e){return[].concat(Object(u.a)(e),[t])}))}),[]);return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(E,{}),Object(v.jsxs)(z,{children:[Object(v.jsx)(y,{keyboard:n,onAttack:m}),i.map((function(t){var e=Object(j.a)();return Object(v.jsx)(J,{left:t.left,bottom:t.bottom},e)}))]})]})},B=Object(r.memo)(_);b.a.render(Object(v.jsx)(a.a.StrictMode,{children:Object(v.jsx)(B,{})}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.0e91b603.chunk.js.map